{% extends 'alteration/base.html' %}
{% load static %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-pink-50 via-white to-rose-50">
    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>Perfect Fit, Always.</h1>
            <p>Need an adjustment? Let's make your outfit feel just right.</p>
            <a href="#form-section" class="cta-button">Request Alteration</a>
        </div>
    </section>

    <!-- Alteration Services Section -->
    <section class="services">
        <div class="container">
            <h2 class="section-title">Our Alteration Services</h2>
            <p class="section-subtitle">From simple hemming to complex resizing, our expert tailors handle every detail with precision and care.</p>
            
            <div class="services-grid">
                <div class="service-card">
                    <div class="service-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M6 3h12l4 6-10 13L2 9l4-6z"/>
                            <path d="M11 3 8 9l4 13 4-13-3-6"/>
                            <path d="M2 9h20"/>
                        </svg>
                    </div>
                    <h3>Hemming</h3>
                    <p>Perfect length adjustments for pants, skirts, and dresses</p>
                </div>
                
                <div class="service-card">
                    <div class="service-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/>
                            <path d="M3 3v5h5"/>
                        </svg>
                    </div>
                    <h3>Resize (Up/Down)</h3>
                    <p>Take in or let out garments for the perfect fit</p>
                </div>
                
                <div class="service-card">
                    <div class="service-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/>
                            <path d="M3 6h18"/>
                            <path d="M16 10a4 4 0 0 1-8 0"/>
                        </svg>
                    </div>
                    <h3>Zip Repair</h3>
                    <p>Fix or replace broken zippers on any garment</p>
                </div>
                
                <div class="service-card">
                    <div class="service-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <circle cx="12" cy="12" r="6"/>
                            <circle cx="12" cy="12" r="2"/>
                        </svg>
                    </div>
                    <h3>Button Fix</h3>
                    <p>Replace missing buttons or reinforce loose ones</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Upload Section -->
    <section class="upload-section">
        <div class="container">
            <h2 class="section-title">Show Us Your Garment</h2>
            <p class="section-subtitle">Upload photos to help our tailors understand exactly what you need.</p>
            
            <div class="upload-container">
                <div class="upload-zone" id="uploadZone">
                    <div class="upload-icon">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="7,10 12,15 17,10"/>
                            <line x1="12" x2="12" y1="15" y2="3"/>
                        </svg>
                    </div>
                    <p><strong>Drop your images here</strong> or</p>
                    <button type="button" class="upload-button" onclick="document.getElementById('imageUpload').click()">
                        Choose Files
                    </button>
                    <p style="font-size: 0.875rem; color: #6b7280; margin-top: 1rem;">
                        Maximum 5 images, up to 5MB each
                    </p>
                </div>
                
                <input type="file" id="imageUpload" name="garment_images" multiple accept="image/*" style="display: none;">
                
                <div class="image-previews" id="imagePreviews"></div>
                
                <div class="issue-description">
                    <label for="issueDescription">Describe the Issue</label>
                    <textarea id="issueDescription" name="issue_description" rows="3" placeholder="Brief description of what needs to be altered..."></textarea>
                </div>
            </div>
        </div>
    </section>

    <!-- Alteration Request Form -->
    <section class="form-section" id="form-section">
        <div class="container">
            <h2 class="section-title">Request Your Alteration</h2>
            <p class="section-subtitle">Fill out the details below and we'll get back to you within 24 hours.</p>
            
            <div class="form-container">
                <!-- Success Message -->
                {% if messages %}
                    {% for message in messages %}
                        <div class="success-message show">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 12l2 2 4-4"/>
                                <circle cx="12" cy="12" r="10"/>
                            </svg>
                            <div class="success-content">
                                <h4>{{ message.tags|title }}</h4>
                                <p>{{ message }}</p>
                            </div>
                        </div>
                    {% endfor %}
                {% endif %}
                
                <div class="success-message" id="successMessage">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 12l2 2 4-4"/>
                        <circle cx="12" cy="12" r="10"/>
                    </svg>
                    <div class="success-content">
                        <h4>Request Submitted Successfully!</h4>
                        <p>We'll contact you within 24 hours to confirm your alteration details.</p>
                    </div>
                </div>
                
                <form id="alterationForm" method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="{{ form.name.id_for_label }}">{{ form.name.label }} <span class="required">*</span></label>
                            {{ form.name }}
                            {% if form.name.errors %}
                                <div class="error-message">{{ form.name.errors.0 }}</div>
                            {% endif %}
                        </div>
                        
                        <div class="form-group">
                            <label for="{{ form.email.id_for_label }}">{{ form.email.label }} <span class="required">*</span></label>
                            {{ form.email }}
                            {% if form.email.errors %}
                                <div class="error-message">{{ form.email.errors.0 }}</div>
                            {% endif %}
                        </div>
                    </div>
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="{{ form.phone.id_for_label }}">{{ form.phone.label }} <span class="required">*</span></label>
                            {{ form.phone }}
                            {% if form.phone.errors %}
                                <div class="error-message">{{ form.phone.errors.0 }}</div>
                            {% endif %}
                        </div>
                        
                        <div class="form-group">
                            <label for="{{ form.garment_type.id_for_label }}">{{ form.garment_type.label }} <span class="required">*</span></label>
                            {{ form.garment_type }}
                            {% if form.garment_type.errors %}
                                <div class="error-message">{{ form.garment_type.errors.0 }}</div>
                            {% endif %}
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>{{ form.alteration_types.label }} <span class="required">*</span> <span style="font-weight: normal; color: #6b7280;">(Select all that apply)</span></label>
                        <div class="checkbox-group">
                            {% for choice in form.alteration_types %}
                                <div class="checkbox-item">
                                    {{ choice.tag }}
                                    <label for="{{ choice.id_for_label }}">{{ choice.choice_label }}</label>
                                </div>
                            {% endfor %}
                        </div>
                        {% if form.alteration_types.errors %}
                            <div class="error-message">{{ form.alteration_types.errors.0 }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="{{ form.measurements.id_for_label }}">{{ form.measurements.label }} <span style="font-weight: normal; color: #6b7280;">(Optional)</span></label>
                            {{ form.measurements }}
                        </div>
                        
                        <div class="form-group">
                            <label for="{{ form.preferred_date.id_for_label }}">{{ form.preferred_date.label }} <span class="required">*</span></label>
                            {{ form.preferred_date }}
                            {% if form.preferred_date.errors %}
                                <div class="error-message">{{ form.preferred_date.errors.0 }}</div>
                            {% endif %}
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.description.id_for_label }}">{{ form.description.label }}</label>
                        {{ form.description }}
                    </div>
                    
                    <!-- Delivery Options -->
                    <div class="delivery-options">
                        <h3>Delivery Options</h3>
                        <div class="radio-group">
                            {% for choice in form.delivery_option %}
                                <div class="radio-item">
                                    {{ choice.tag }}
                                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                                        {% if choice.choice_value == 'pickup' %}
                                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                                                <circle cx="12" cy="10" r="3"/>
                                            </svg>
                                        {% else %}
                                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2"/>
                                                <path d="M15 18H9"/>
                                                <path d="M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14"/>
                                                <circle cx="17" cy="18" r="2"/>
                                                <circle cx="7" cy="18" r="2"/>
                                            </svg>
                                        {% endif %}
                                        <label for="{{ choice.id_for_label }}">{{ choice.choice_label }}</label>
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                        
                        <!-- Address fields (shown/hidden based on delivery option) -->
                        <div class="address-fields">
                            <div class="form-group pickup-address" style="display: none;">
                                <label for="{{ form.pickup_address.id_for_label }}">{{ form.pickup_address.label }}</label>
                                {{ form.pickup_address }}
                                {% if form.pickup_address.errors %}
                                    <div class="error-message">{{ form.pickup_address.errors.0 }}</div>
                                {% endif %}
                            </div>
                            
                            <div class="form-group delivery-address" style="display: none;">
                                <label for="{{ form.delivery_address.id_for_label }}">{{ form.delivery_address.label }}</label>
                                {{ form.delivery_address }}
                                {% if form.delivery_address.errors %}
                                    <div class="error-message">{{ form.delivery_address.errors.0 }}</div>
                                {% endif %}
                            </div>
                        </div>
                        
                        <p style="font-size: 0.875rem; color: #6b7280; margin-top: 1rem;">
                            Delivery charges will be added to your final invoice. Free pickup available Monday-Saturday 9AM-6PM.
                        </p>
                    </div>
                    
                    <button type="submit" class="submit-button" id="submitButton">
                        Submit Alteration Request
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- Why Choose Us Section -->
    <section class="why-choose-us">
        <div class="container">
            <h2 class="section-title">Why Choose Us?</h2>
            <p class="section-subtitle">Experience the difference of working with true professionals who care about every stitch.</p>
            
            <div class="values-grid">
                <div class="value-card">
                    <div class="value-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"/>
                        </svg>
                    </div>
                    <h3>Expert Tailors</h3>
                    <p>20+ years of experience with premium fabrics</p>
                </div>
                
                <div class="value-card">
                    <div class="value-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12,6 12,12 16,14"/>
                        </svg>
                    </div>
                    <h3>Quick Turnaround</h3>
                    <p>Most alterations completed within 3-5 days</p>
                </div>
                
                <div class="value-card">
                    <div class="value-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 18v-6a9 9 0 0 1 18 0v6"/>
                            <path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"/>
                        </svg>
                    </div>
                    <h3>Real-Time Support</h3>
                    <p>Chat with us anytime for updates and questions</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Floating Chat Button -->
    <a href="https://wa.me/1234567890" target="_blank" rel="noopener noreferrer" class="chat-button" title="Chat with us on WhatsApp">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/>
        </svg>
    </a>
</div>
{% endblock %}